{
  "appName": "Wellness Coaching Application",
  "version": "1.0.0",
  "lastUpdated": "2025-07-16T15:30:00.000Z",
  "domains": {
    "chat": {
      "description": "Core chat messaging functionality with AI streaming responses and conversation history",
      "path": ".system-maps/json-system-maps/chat/",
      "dependencies": [
        "memory",
        "file-manager"
      ],
      "subdomains": {
        "attachments": {
          "description": "File and media attachment handling in chat",
          "path": ".system-maps/json-system-maps/chat/attachments.map.json"
        },
        "audio-transcription": {
          "description": "Audio recording and transcription features",
          "path": ".system-maps/json-system-maps/chat/audio-transcription.map.json"
        },
        "conversation-history": {
          "description": "Chat history management and persistence",
          "path": ".system-maps/json-system-maps/chat/conversation-history.map.json"
        },
        "core-messaging": {
          "description": "Core chat messaging and streaming functionality",
          "path": ".system-maps/json-system-maps/chat/core-messaging.map.json"
        }
      }
    },
    "memory": {
      "description": "AI memory system for context persistence and intelligent memory management",
      "path": ".system-maps/json-system-maps/memory/",
      "dependencies": [],
      "features": {
        "memory-core": {
          "description": "Core memory operations and storage",
          "path": ".system-maps/json-system-maps/memory/memory-core.map.json"
        },
        "memory-ui": {
          "description": "Memory management user interface",
          "path": ".system-maps/json-system-maps/memory/memory-ui.map.json"
        },
        "memory-detection": {
          "description": "Automatic memory detection from chat messages",
          "path": ".system-maps/json-system-maps/memory/memory-detection.feature.json"
        },
        "memory-deduplication": {
          "description": "ChatGPT-style memory deduplication and consolidation",
          "path": ".system-maps/json-system-maps/memory/memory-deduplication.feature.json"
        },
        "memory-retrieval": {
          "description": "Context-aware memory retrieval with semantic search",
          "path": ".system-maps/json-system-maps/memory/memory-retrieval.feature.json"
        }
      }
    },
    "health": {
      "description": "Health data management, metrics tracking, and native platform integration",
      "path": ".system-maps/json-system-maps/health/",
      "dependencies": [],
      "subdomains": {
        "dashboard": {
          "description": "Health dashboard display and visualization",
          "path": ".system-maps/json-system-maps/health/dashboard.map.json"
        },
        "data-operations": {
          "description": "Health data import, parsing, and processing",
          "path": ".system-maps/json-system-maps/health/data-operations.map.json"
        },
        "metrics-management": {
          "description": "Health metrics management and visibility controls",
          "path": ".system-maps/json-system-maps/health/metrics-management.map.json"
        }
      },
      "features": {
        "load-sample-data": {
          "description": "Load sample health data for testing",
          "path": ".system-maps/json-system-maps/health/load-sample-data.feature.json"
        },
        "native-health-sync": {
          "description": "Native health platform synchronization",
          "path": ".system-maps/json-system-maps/health/native-health-sync.feature.json"
        },
        "timeframe-dropdown": {
          "description": "Health data timeframe selection",
          "path": ".system-maps/json-system-maps/health/timeframe-dropdown.feature.json"
        },
        "nutrition-inference": {
          "description": "AI-powered nutrition inference from chat messages",
          "path": ".system-maps/json-system-maps/chat/nutrition-inference-service.map.json"
        },
        "mobile-animations": {
          "description": "Mobile-optimized animation system for health dashboard",
          "path": ".system-maps/json-system-maps/health/mobile-animations.feature.json"
        },
        "floating-action-button": {
          "description": "Material Design FAB with expandable quick actions",
          "path": ".system-maps/json-system-maps/health/floating-action-button.feature.json"
        }
      }
    },
    "file-manager": {
      "description": "File upload, categorization, retention management, and sharing capabilities",
      "path": ".system-maps/json-system-maps/file-manager/",
      "dependencies": [],
      "subdomains": {
        "advanced-processing": {
          "description": "Advanced file processing and optimization",
          "path": ".system-maps/json-system-maps/file-manager/advanced-processing.map.json"
        },
        "categories": {
          "description": "File categorization and organization",
          "path": ".system-maps/json-system-maps/file-manager/categories.map.json"
        },
        "core-operations": {
          "description": "Core file operations (upload, download, delete)",
          "path": ".system-maps/json-system-maps/file-manager/core-operations.map.json"
        }
      }
    },
    "settings": {
      "description": "Application configuration, user preferences, and system settings management",
      "path": ".system-maps/json-system-maps/settings/",
      "dependencies": [],
      "subdomains": {
        "account-management": {
          "description": "User account and profile management",
          "path": ".system-maps/json-system-maps/settings/account-management.map.json"
        },
        "ai-configuration": {
          "description": "AI model and behavior configuration",
          "path": ".system-maps/json-system-maps/settings/ai-configuration.map.json"
        },
        "app-preferences": {
          "description": "Application preferences and UI settings",
          "path": ".system-maps/json-system-maps/settings/app-preferences.map.json"
        },
        "coaching-preferences": {
          "description": "Coaching behavior and interaction preferences",
          "path": ".system-maps/json-system-maps/settings/coaching-preferences.map.json"
        },
        "file-management": {
          "description": "File management settings and preferences",
          "path": ".system-maps/json-system-maps/settings/file-management.map.json"
        },
        "health-data-consent": {
          "description": "Health data privacy and consent management",
          "path": ".system-maps/json-system-maps/settings/health-data-consent.map.json"
        },
        "performance-settings": {
          "description": "Application performance and optimization settings",
          "path": ".system-maps/json-system-maps/settings/performance-settings.map.json"
        },
        "root": {
          "description": "Root settings navigation and organization",
          "path": ".system-maps/json-system-maps/settings/root.map.json"
        }
      }
    },
    "routes": {
      "description": "Server-side API routing and middleware configuration",
      "path": ".system-maps/json-system-maps/routes/",
      "dependencies": [],
      "subdomains": {
        "routes-core": {
          "description": "Core API routing and middleware",
          "path": ".system-maps/json-system-maps/routes/routes-core.map.json"
        }
      }
    },
    "infrastructure": {
      "description": "Cross-cutting concerns: logging, performance monitoring, database infrastructure, and testing utilities",
      "path": ".system-maps/json-system-maps/infrastructure/",
      "dependencies": [],
      "subdomains": {
        "logging": {
          "description": "Application logging and monitoring",
          "path": ".system-maps/json-system-maps/infrastructure/logging.map.json"
        },
        "neon-database": {
          "description": "Neon serverless PostgreSQL database infrastructure for production Replit environment",
          "path": ".system-maps/json-system-maps/infrastructure/neon-database.map.json"
        },
        "performance": {
          "description": "Performance monitoring and optimization",
          "path": ".system-maps/json-system-maps/infrastructure/performance.map.json"
        },
        "testing": {
          "description": "Testing infrastructure and utilities",
          "path": ".system-maps/json-system-maps/infrastructure/testing.map.json"
        },
        "local-database": {
          "description": "Manages local PostgreSQL database setup, schema synchronization, and connection switching for development",
          "path": ".system-maps/json-system-maps/infrastructure/local-database-system-map.json"
        }
      }
    }
  },
  "crossDomainDependencies": {
    "chat â†’ file-manager": {
      "reason": "Chat uploads affect file manager thumbnail display through shared API endpoint",
      "sharedComponents": [
        "client/src/components/filemanager/FileList.tsx",
        "client/src/utils/fileManagerUtils.ts"
      ],
      "sharedEndpoints": [
        "/api/upload"
      ],
      "behaviorDifferences": {
        "compression": "Chat uploads bypass compression for immediate thumbnails, file-manager applies smart compression (skips media files)",
        "processing": "Chat uses useFileManagement.ts (direct upload), file-manager uses useFileUpload.ts (with compression logic)",
        "thumbnailGeneration": "Both paths result in same thumbnail display but different processing timing"
      },
      "potentialIssues": [
        "Compression interference with image thumbnails",
        "Different upload paths affecting same UI component",
        "Inconsistent file processing behaviors"
      ],
      "lastValidated": "2025-07-10",
      "validationMethod": "Cross-domain validator script + manual testing"
    }
  },
  "crossDomainValidation": {
    "lastRun": "2025-07-10",
    "validatorScript": "system-map-cross-domain-validator.js",
    "status": "passing",
    "issuesFound": 0,
    "recommendations": [
      "Continue documenting cross-domain interactions when new features are added",
      "Run validator script before any major system map updates",
      "Monitor shared components for behavioral consistency"
    ]
  },
  "testMaps": {
    "test-chat": {
      "description": "Test system map for chat functionality validation",
      "path": ".system-maps/json-system-maps/test-chat.map.json"
    },
    "test-circular-deps": {
      "description": "Test system map for circular dependency detection",
      "path": ".system-maps/json-system-maps/test-circular-deps.map.json"
    },
    "test-memory": {
      "description": "Test feature map for memory functionality validation",
      "path": ".system-maps/json-system-maps/test-memory.feature.json"
    }
  }
}