
{
  "tableOfContents": {
    "data-filtering": ["time-range-filtering", "data-reset"]
  },
  "lastUpdated": "2025-01-28T18:20:00Z",
  "dependencies": [],
  "featureGroups": {
    "data-filtering": {
      "description": "Time-based filtering and data display controls for health metrics.",
      "features": {
        "time-range-filtering": {
          "description": "Allows users to view health data for specific time periods (7, 30, 90 days).",
          "userFlow": [
            "User selects time range from dropdown/tabs in HealthDataSection.",
            "Component state updates with new time range.",
            "Health data API is called with new date parameters.",
            "Charts and metrics re-render with filtered data."
          ],
          "components": [
            {
              "name": "HealthDataSection",
              "path": "client/src/components/HealthDataSection.tsx",
              "description": "Main health dashboard container",
              "uses": ["HealthMetricsCard", "useHealthDataApi"]
            },
            {
              "name": "HealthMetricsCard",
              "path": "client/src/components/HealthMetricsCard.tsx",
              "description": "Individual metric display card",
              "uses": []
            },
            {
              "name": "useHealthDataApi",
              "path": "client/src/hooks/useHealthDataApi.ts",
              "description": "Hook for health data API calls",
              "uses": []
            }
          ]
        },
        "data-reset": {
          "description": "Allows users to reset/clear their health data.",
          "userFlow": [
            "User clicks 'Reset Data' button.",
            "Confirmation dialog appears.",
            "User confirms the reset action.",
            "DELETE request sent to clear user's health data.",
            "Dashboard refreshes showing empty state."
          ],
          "components": [
            {
              "name": "HealthDataSection",
              "path": "client/src/components/HealthDataSection.tsx",
              "description": "Main health dashboard container",
              "uses": ["useHealthDataApi"]
            },
            {
              "name": "useHealthDataApi",
              "path": "client/src/hooks/useHealthDataApi.ts",
              "description": "Hook for health data API calls",
              "uses": []
            }
          ]
        }
      }
    }
  },
  "apiEndpoints": {
    "GET /api/health-data": {
      "method": "GET",
      "handler": "server/routes/health-routes.ts",
      "description": "Fetches a list of all health data records for the user within a given time range.",
      "readsFrom": ["healthData"],
      "modifies": []
    },
    "GET /api/health-data/categories": {
      "method": "GET",
      "handler": "server/routes/health-routes.ts",
      "description": "Fetches health data records, grouped by category, with time range filtering.",
      "readsFrom": ["healthData"],
      "modifies": []
    },
    "DELETE /api/health-data/reset": {
      "method": "DELETE",
      "handler": "server/routes/health-routes.ts",
      "description": "Deletes all health data for the current user.",
      "readsFrom": ["healthData"],
      "modifies": ["healthData"]
    }
  }
}
