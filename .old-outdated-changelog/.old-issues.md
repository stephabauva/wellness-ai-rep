## 🐞 Issues and 📝 Things to Do

✅ = Already done  
❌ = Not yet done  
❓ = Needs confirmation / investigation  


---  


### 🐞 Issues (Bugs / Technical Errors)


<br>

#### 🟥 High Priority (Critical to UX/Functionality)

  ❌ Replit AI sending tons of the same message when testing (memory detection)

  ❌ all uploaded attachments are kept in uploads/ undefinetly 

  ✅ New message is not immediatly visible in the chat after being sent

  ✅ Chat does not autoscroll

<br>

#### 🟨 Medium Priority (Important for UX/Polish)

  ❓ Web Speech API mic stops after short pause — increase pause duration (uncertain if fixed)  

  ❌ Speech-to-text with OpenAI: saying “this is a test” returns “thank you” — major transcription issue  

  ❌ Speech-to-text with Google: API seems blocked — check API permissions (see Perplexity history: google transcription error)  

  ✅ Mic error on click-back (“aborted”) now handled gracefully  

<br>

#### 🟩 Low Priority (Polish/Nice-to-Have)

❌ AVIF files not processed by openai model (gpt4o-mini), Add AVIF to supported formats list in `openai-provider.ts`

---  


### 📝 Things to Do


<br>

#### 🟥 High Priority (Critical to UX/Functionality)

  ❌ Add feature to select, select all, and delete memories

  ❌ Implement phase 4 of memory optimization

  ❌ Import files from File Management
  
  ❌ Chat input disappears when switching tabs — should persist and offer a “clear” button  

  ✅  Refactor `openai-service.ts`: split OpenAI and Google algorithms into separate service files  

  ✅ “New chat” button added  

  ✅ AI now has full context of current chat 

  ✅ Implement “New chat” button functionality (UI exists, backend logic pending)  

  ✅ Images, documents and photos must be displayed in the chat


<br>

#### 🟨 Medium Priority (Important for UX/Polish)

  ❌ Dark mode toggle not working  

  ❌ French version needed  

  ❌ Need to optimize coach and system prompts  

  ❌ Implement automated scheduling mechanism (cron job) to trigger `cleanupExpiredAttachments()` method (ref: changelog #12)

  ❌ Verify attachment metadata structure in database for retention system compatibility (ref: changelog #12)

  ❌ Implement comprehensive logging for cleanup process (files deleted, space freed, errors) (ref: changelog #12)

<br>

#### 🟩 Low Priority (Polish/Nice-to-Have)

  ❌ implement technics to handle long conversations  

  ❌ Health Dashboard pulls from local storage file — should switch to DB when ready  

  ❌ Missing functionality to save daily nutritional facts to see progression over time  

  ✅ Mic icon remains instead of rotating ring and blinks red while recording  

  ✅ Image inputs (“can’t process images”) now handled properly  

  ✅ No persistence in chat context — now resolved